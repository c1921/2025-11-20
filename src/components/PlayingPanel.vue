<script setup lang="ts">
defineProps<{
  isHeightmapMode: boolean;
  isGenerating: boolean;
  isSaving: boolean;
  saveMessage: string;
}>();

const emit = defineEmits<{
  'toggle-view': [];
  save: [];
  'return-menu': [];
}>();
</script>

<template>
  <div class="card bg-base-300/90 backdrop-blur-sm shadow-xl w-80">
    <div class="card-body p-4">
      <h2 class="card-title text-warning">æ¸¸æˆä¸­</h2>
      <p class="text-sm text-base-content/70">ğŸ–±ï¸ æ‹–åŠ¨å¹³ç§» â€¢ æ»šè½®ç¼©æ”¾</p>
      <p class="text-sm text-base-content/70 mb-2">ğŸ‘£ ç‚¹å‡»åœ°å›¾ä»»æ„ä½ç½®ï¼Œç©å®¶ä¼šæ²¿é“è·¯çš„æœ€çŸ­è·¯å¾„å‰è¿›</p>

      <div class="flex flex-col gap-2">
        <button
          class="btn btn-accent"
          @click="emit('toggle-view')"
          :disabled="isGenerating"
        >
          {{ isHeightmapMode ? 'ğŸ¨ å½©è‰²åœ°å›¾' : 'ğŸ“Š é«˜åº¦å›¾' }}
        </button>

        <button
          class="btn btn-info"
          @click="emit('save')"
          :disabled="isSaving || isGenerating"
        >
          {{ isSaving ? 'ä¿å­˜ä¸­...' : 'ğŸ’¾ ä¿å­˜' }}
        </button>

        <button
          class="btn btn-ghost"
          @click="emit('return-menu')"
        >
          ğŸ  è¿”å›ä¸»èœå•
        </button>

        <p v-if="saveMessage" class="text-xs text-success mt-1">{{ saveMessage }}</p>
      </div>
    </div>
  </div>
</template>
